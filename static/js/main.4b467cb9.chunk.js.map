{"version":3,"sources":["Images/Icons/tornado.svg","Images/Icons/search.svg","Images/Icons sync /^/.*/.svg$","Images/Icons/clear.svg","Images/Icons/clouds.svg","Images/Icons/drizzle.svg","Images/Icons/rain.svg","Images/Icons/snow.svg","Images/Icons/storm.svg","Images/Icons/thunderstorm.svg","Components/Weather.js","Components/WeatherForm.js","Components/Navigation.js","Components/Forecast.js","Components/MainPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Weather","props","state","time","this","getTime","interval","setInterval","cityTime","process","lat","lon","fetch","then","response","json","data","setState","formatted","console","log","catch","error","clearInterval","className","Container","fluid","Row","Col","main","city","country","format","xs","sm","md","src","require","alt","toLowerCase","Math","floor","temperature","description","highestTemp","wind","sunrise","lowestTemp","humidity","sunset","React","Component","WeatherForm","Form","onSubmit","loadWeather","Control","type","name","placeholder","Navigation","Forecast","forecastData","item","key","dt","theme","dt_txt","weather","icon","temp","MainPage","getWeather","a","target","elements","value","forecast","preventDefault","Promise","all","res1","res2","ok","statusText","data1","data2","Date","sys","toLocaleTimeString","slice","temp_max","temp_min","clouds","speed","coord","load","list","App","basename","path","exact","component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.4b467cb9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tornado.b3cf14c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.f59b0276.svg\";","var map = {\n\t\"./clear.svg\": 45,\n\t\"./clouds.svg\": 46,\n\t\"./drizzle.svg\": 47,\n\t\"./rain.svg\": 48,\n\t\"./search.svg\": 27,\n\t\"./snow.svg\": 49,\n\t\"./storm.svg\": 50,\n\t\"./thunderstorm.svg\": 51,\n\t\"./tornado.svg\": 26\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 44;","module.exports = __webpack_public_path__ + \"static/media/clear.ef790a4b.svg\";","module.exports = __webpack_public_path__ + \"static/media/clouds.b40129ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/drizzle.91b1ceb9.svg\";","module.exports = __webpack_public_path__ + \"static/media/rain.4ce8407e.svg\";","module.exports = __webpack_public_path__ + \"static/media/snow.5831cc74.svg\";","module.exports = __webpack_public_path__ + \"static/media/storm.4b969a4c.svg\";","module.exports = __webpack_public_path__ + \"static/media/thunderstorm.ebec5dbf.svg\";","import React from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Moment from \"react-moment\";\r\nclass Weather extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      time: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getTime();\r\n    this.interval = setInterval(() => {\r\n      this.getTime();\r\n    }, 5000);\r\n  }\r\n\r\n  getTime() {\r\n    const timeApiKey = process.env.REACT_APP_TIME_API_KEY;\r\n    const cityTime = `http://api.timezonedb.com/v2.1/get-time-zone?key=${timeApiKey}&format=json&by=position&lat=${this.props.lat}&lng=${this.props.lon}`;\r\n    \r\n    fetch(cityTime)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({\r\n          time: data.formatted,\r\n        });\r\n        console.log(data.formatted);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"weather-view\">\r\n        <Container fluid>\r\n          <Row>\r\n            <Col>\r\n              <div className={`locationName ${this.props.main}` + \"bg\"}>\r\n                <h2 className=\"cityTitle\">\r\n                  {this.props.city}, {this.props.country}\r\n                </h2>\r\n                <h4 className=\"subtext\">\r\n                  <Moment format=\"dddd D MMMM \">{this.state.time}</Moment>\r\n                  <span> | </span>\r\n                  <Moment format=\" h:mm A\">{this.state.time}</Moment>\r\n                </h4>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={12} sm={6} md={6}>\r\n              <div className={`weather-container ${this.props.main}` + \"bg\"}>\r\n                {this.props.main === \"Mist\" ||\r\n                this.props.main === \"Smoke\" ||\r\n                this.props.main === \"Haze\" ||\r\n                this.props.main === \"Dust\" ||\r\n                this.props.main === \"Fog\" ||\r\n                this.props.main === \"Sand\" ||\r\n                this.props.main === \"Ash\" ||\r\n                this.props.main === \"Squall\" ||\r\n                this.props.main === \"Tornado\" ? (\r\n                  <img\r\n                    id=\"weather-icon\"\r\n                    src={require(`../Images/Icons/tornado.svg`)}\r\n                    alt={this.props.main}\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    id=\"weather-icon\"\r\n                    src={require(`../Images/Icons/${this.props.main.toLowerCase()}.svg`)}\r\n                    alt={this.props.main}\r\n                  />\r\n                )}\r\n\r\n                <div className=\"temp-info\">\r\n                  <h1>{Math.floor(this.props.temperature)}&#176;</h1>\r\n                  <h3>{this.props.description}</h3>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col xs={12} sm={6} md={6}>\r\n              <div className={`weather-info ${this.props.main}` + \"bg\"}>\r\n                <div>\r\n                  <h3>{Math.floor(this.props.highestTemp)}&#176;</h3>\r\n                  <span>High</span>\r\n                </div>\r\n                <div>\r\n                  <h3> {this.props.wind}mph</h3>\r\n                  <span>Wind</span>\r\n                </div>\r\n                <div>\r\n                  <h3>{this.props.sunrise}</h3>\r\n                  <span>Sunrise</span>\r\n                </div>\r\n                <div>\r\n                  <h3>{Math.floor(this.props.lowestTemp)}&#176;</h3>\r\n                  <span>Low</span>\r\n                </div>\r\n                <div>\r\n                  <h3>{this.props.humidity}%</h3>\r\n                  <span>Humid</span>\r\n                </div>\r\n                <div>\r\n                  <h3>{this.props.sunset}</h3>\r\n                  <span>Sunset</span>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Weather;","import React, { Component } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nclass WeatherForm extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"weatherForm\">\r\n        <Form onSubmit={this.props.loadWeather}>\r\n          <span className=\"searchImg\"><img id=\"search\"\r\n            src={require(`../Images/Icons/search.svg`)}\r\n            alt=\"search icon\"\r\n          /></span>\r\n          <Form.Control type=\"text\" name=\"city\" placeholder=\"Enter City\" />\r\n          \r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WeatherForm;\r\n","import React from \"react\";\r\n\r\nconst Navigation = () => {\r\n  return (\r\n        <div className=\"navigation\">\r\n          <nav className=\"navbar\" id=\"navigation\">\r\n            <span className=\"navbar-brand mb-0 h1\">Weather App</span>\r\n          </nav>\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { Component } from 'react'\r\nimport Moment from \"react-moment\";\r\nclass Forecast extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"forecastData\">\r\n                {this.props.forecastData.map((item) => (\r\n                    <div key={item.dt} className={`weatherList ${this.props.theme}`+\"bg\"}>\r\n                        <div>\r\n                            <p className=\"subtext\">\r\n                                <Moment format=\"D/MM\">{item.dt_txt}</Moment>\r\n                                <br />\r\n                                <Moment format=\"H:mm \">{item.dt_txt}</Moment>\r\n                            </p>\r\n                            <img src={`http://openweathermap.org/img/wn/${item.weather[0].icon}.png`} id=\"weather-image\"  alt={item.weather[0].main}/><br/>\r\n                            <h3>{Math.floor(item.main.temp)}&#176;</h3> \r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Forecast\r\n\r\n    // < span > Photo by < a href = \"https://unsplash.com/@valentinmuellerandalanmueller?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\" > Valentin Müller</ > on < a href = \"https://unsplash.com/s/photos/rain?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\" > Unsplash</ ></span > - rain\r\n\r\n\r\n//Photo by Brett Sayles from Pexels - cloudy day \r\n\r\n//Photo by Francesco Ungaro from Pexels- day\r\n//Photo by Johannes Plenio from Pexels- lighting\r\n//<span>Photo by <a href=\"https://unsplash.com/@chanphoto?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Chandler Cruttenden</a> on <a href=\"https://unsplash.com/s/photos/snow?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>- snow\r\n\r\n\r\n//Photo by Ray Bilcliff from Pexels - storm\r\n//Photo by Johannes Plenio from Pexels - tornado\r\n\r\n\r\n//<span>Photo by <a href=\"https://unsplash.com/@tomlaudiophile?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Thomas Millot</a> on <a href=\"https://unsplash.com/s/photos/atmosphere?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span> - mist","import React, { Component } from \"react\";\r\nimport Weather from \"./Weather\";\r\nimport WeatherForm from \"./WeatherForm\";\r\nimport Navigation from \"./Navigation\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Forecast from \"./Forecast\";\r\n\r\nclass MainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      city: \"\",\r\n      country: \"\",\r\n      description: \"\",\r\n      main: \"Clear\",\r\n      temp: \"\",\r\n      highestTemp: \"\",\r\n      lowestTemp: \"\",\r\n      sunrise: \"\",\r\n      sunset: \"\",\r\n      clouds: \"\",\r\n      humidity: \"\",\r\n      wind: \"\",\r\n      lat: \"\",\r\n      lon: \"\",\r\n      icon:\"\",\r\n      load: false,\r\n      error: false,\r\n      forecastData:[],\r\n    };\r\n  }\r\n\r\n  getWeather = async (e) => {\r\n    const name = e.target.elements.city.value;\r\n    const weatherApiKey = process.env.REACT_APP_WEATHER_API_KEY;\r\n    const weather = `http://api.openweathermap.org/data/2.5/weather?q=${name}&appid=${weatherApiKey}&units=metric`;\r\n    const forecast = `https://api.openweathermap.org/data/2.5/forecast?q=${name}&appid=${weatherApiKey}&units=metric`;\r\n    \r\n    e.preventDefault();\r\n    Promise.all([fetch(weather),fetch(forecast)])\r\n      .then(([res1, res2]) => {\r\n        if (res1.ok && res2.ok) {\r\n          return Promise.all([res1.json(), res2.json()]);\r\n        }\r\n        throw Error(res1.statusText, res2.statusText);\r\n      })\r\n      .then(([data1, data2]) => {\r\n        const sunset = new Date(data1.sys.sunset * 1000)\r\n          .toLocaleTimeString()\r\n          .slice(0, 5);\r\n        const sunrise = new Date(data1.sys.sunrise * 1000)\r\n          .toLocaleTimeString()\r\n          .slice(0, 5);\r\n        this.setState({\r\n          city: data1.name,\r\n          country: data1.sys.country,\r\n          description: data1.weather[0].description,\r\n          main: data1.weather[0].main,\r\n          icon:data1.weather[0].icon,\r\n          temp: data1.main.temp,\r\n          highestTemp: data1.main.temp_max,\r\n          lowestTemp: data1.main.temp_min,\r\n          sunrise,\r\n          sunset,\r\n          clouds: data1.clouds.all,\r\n          humidity: data1.main.humidity,\r\n          wind: data1.wind.speed,\r\n          lon: data1.coord.lon,\r\n          lat: data1.coord.lat,\r\n          load: true,\r\n          error: false,\r\n          forecastData:data2.list,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Sorry cannot find the city with the name\");\r\n        this.setState({\r\n          error: true,\r\n          load: true,\r\n          main: \"Clear\",\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col>\r\n            <div className={`mainPage bg-img ${this.state.main}`} >\r\n              <Navigation />\r\n              <WeatherForm loadWeather={this.getWeather} />\r\n              {this.state.load ? (\r\n                this.state.error ? (\r\n                  <div className=\"errorDisplay\">\r\n                    <h3> No matching cities found. Try searching with a valid city\r\n                    name!</h3>\r\n                  </div>\r\n                ) : (\r\n                    <div className=\"weather-data\">\r\n                      <Weather\r\n                        city={this.state.city}\r\n                        country={this.state.country}\r\n                        description={this.state.description}\r\n                        main={this.state.main}\r\n                        temperature={this.state.temp}\r\n                        highestTemp={this.state.highestTemp}\r\n                        lowestTemp={this.state.lowestTemp}\r\n                        sunrise={this.state.sunrise}\r\n                        sunset={this.state.sunset}\r\n                        clouds={this.state.clouds}\r\n                        humidity={this.state.humidity}\r\n                        wind={this.state.wind}\r\n                        lon={this.state.lon}\r\n                        lat={this.state.lat}\r\n                        error={this.state.error}\r\n                        icon={this.state.icon}\r\n                      />\r\n                      <Forecast forecastData={this.state.forecastData} theme={this.state.main}/>\r\n                    </div>\r\n                 \r\n                )\r\n              ) : (\r\n                  \r\n                this.state.error\r\n              )}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainPage;\r\n\r\n// Icons made by <a href=\"https://www.flaticon.com/authors/linector\" title=\"Linector\">Linector</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { Route, Switch, HashRouter } from \"react-router-dom\";\r\n\r\nimport MainPage from \"./Components/MainPage\";\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n          <Switch>\r\n            <Route path=\"/\" exact component={MainPage} />\r\n          </Switch>\r\n        </HashRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}